<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="member-style.css" />
    <script>
      function okId() {
        const memberId = document.querySelector(`#memberId`);
        const warnId = document.querySelector(`#warnId`);
        let idExp = /^[a-z]+[a-z0-9]{5,11}$/g;
        if (!memberId.value.match(idExp)) {
          warnId.style.color = `red`;
          warnId.innerHTML = `영문자, 숫자만 입력가능, 영어로 시작하는 6~12자 입력`;
          return false;
        } else if (memberId.value === "") {
          warnNick.style.color = `red`;
          warnId.innerHTML = `공백을 입력하지 마시오`;
          return false;
        } else {
          warnId.style.color = `green`;
          warnId.innerHTML = `가입 가능한 ID입니다`;
          return true;
        }
      }
      function okPw() {
        const memberPw = document.querySelector(`#memberPw`);
        const warnPw = document.querySelector(`#warnPw`);
        let pwExp =
          /^(?=.*[a-zA-z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&\\(\\)\-_=+]).{8,16}$/;
        if (!memberPw.value.match(pwExp)) {
          warnPw.style.color = `red`;
          warnPw.innerHTML = `영문자, 숫자, 특수문자를 포함하여 8~16자를 입력하세요`;
          return false;
        } else if (memberPw.value === "") {
          warnNick.style.color = `red`;
          warnPw.innerHTML = `공백을 입력하지 마시오`;
          return false;
        } else {
          warnPw.style.color = `green`;
          warnPw.innerHTML = `올바른 비밀번호입니다`;
          return true;
        }
      }
      function okCheckPw() {
        const memberPw = document.querySelector(`#memberPw`);
        const checkPw = document.querySelector(`#checkPw`);
        const pwConfirm = document.querySelector(`#pwConfirm`);
        let pwExp =
          /^(?=.*[a-zA-z])(?=.*[0-9])(?=.*[$`~!@$!%*#^?&\\(\\)\-_=+]).{8,16}$/;
        if (memberPw.value === checkPw.value) {
          pwConfirm.style.color = `green`;
          pwConfirm.innerHTML = `일치`;
          return true;
        } else {
          warnNick.style.color = `red`;
          pwConfirm.innerHTML = `불일치`;
          return false;
        }
      }
      function okName() {
        const userName = document.querySelector(`#userName`);
        const warnName = document.querySelector(`#warnName`);
        let nameExp = /^[가-힣]{2,4}$/;
        if (!userName.value.match(nameExp)) {
          warnName.style.color = `red`;
          warnName.innerHTML = `한글 2~4자 입력`;
          return false;
        } else if (userName.value === "") {
          warnNick.style.color = `red`;
          warnName.innerHTML = `공백을 입력하지 마시오`;
          return false;
        } else {
          warnName.style.color = `green`;
          warnName.innerHTML = `올바른 입력입니다`;
          return true;
        }
      }
      function okNick() {
        const userNick = document.querySelector(`#userNick`);
        const warnNick = document.querySelector(`#warnNick`);
        let nickExp = /^[a-z]+[a-z0-9]{5,11}$/;
        if (!userNick.value.match(nickExp)) {
          warnNick.style.color = `red`;
          warnNick.innerHTML = `영문자, 숫자만 입력가능, 6~12자 입력`;
          return false;
        } else if (userNick.value === "") {
          warnNick.style.color = `red`;
          warnNick.innerHTML = `공백을 입력하지 마시오`;
          return false;
        } else {
          warnNick.style.color = `green`;
          warnNick.innerHTML = `사용 가능한 닉네임입니다`;
          return true;
        }
      }
      function okEmail() {
        const userEmail = document.querySelector(`#userEmail`);
        const warnEmail = document.querySelector(`#warnEmail`);
        let eamilExp = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i;
        if (!userEmail.value.match(eamilExp)) {
          warnEmail.style.color = `red`;
          warnEmail.innerHTML = `이메일 입력`;
          return false;
        } else if (userEmail.value === "") {
          warnNick.style.color = `red`;
          warnEmail.innerHTML = `공백을 입력하지 마시오`;
          return false;
        } else {
          warnEmail.style.color = `green`;
          warnEmail.innerHTML = `올바른 이메일입니다`;
          return true;
        }
      }
      function checkAll(event) {
        if (
          okId() &&
          okPw() &&
          okCheckPw() &&
          okName() &&
          okNick() &&
          okEmail()
        ) {
          const memberId = document.querySelector(`#memberId`);
          const memberPw = document.querySelector(`#memberPw`);
          const userName = document.querySelector(`#userName`);
          const userNick = document.querySelector(`#userNick`);
          const userEmail = document.querySelector(`#userEmail`);
          let msg = `1. 아이디 : ${memberId.value}\n`;
          msg += `2. 비밀번호 : ${memberPw.value}\n`;
          msg += `3. 이름 : ${userName.value}\n`;
          msg += `4. 닉네임 : ${userNick.value}\n`;
          msg += `5. 이메일 : ${userEmail.value}\n`;
          msg += `\t가입완료`;
          alert(msg);
          return true;
        } else {
          alert(`미입력된 내용 추가,\n빨간색으로 표시된 내용을 수정`);
          event.preventDefault();
          return false;
        }
      }
      function refresh() {
        alert(`새로고침`);
        location.reload(true);
      }
    </script>
  </head>
  <body>
    <h1>회 원 가 입</h1>
    <form action="#" method="post">
      <h4>계정정보 입력</h4>
      <table>
        <!-- Id -->
        <tr>
          <td class="title">
            <label for="memberId"><b>아이디</b></label>
          </td>
          <td class="content">
            <span id="warnId"
              >영문자, 숫자만 입력가능, 영어로 시작하는 6~12자 입력</span
            ><br />
            <input
              class="request"
              type="text"
              name="memberId"
              id="memberId"
              size="25"
              minlength="6"
              maxlength="12"
              required
              onkeyup="okId()"
              placeholder="ID입력"
            />
          </td>
        </tr>
        <!-- Pw -->
        <tr>
          <td class="title">
            <label for="memberPw"><b>비밀번호</b></label>
          </td>
          <td class="content">
            <span id="warnPw"
              >영문자, 숫자, 특수문자를 포함하여 8~16자를 입력하세요</span
            ><br />
            <input
              class="request"
              type="password"
              name="memberPw"
              id="memberPw"
              size="25"
              minlength="8"
              maxlength="16"
              required
              onkeyup="okPw()"
              placeholder="PW입력"
            />
          </td>
        </tr>
        <!-- PwCheck -->
        <tr>
          <td class="title">
            <label for="checkPw"><b>비밀번호 확인</b></label>
          </td>
          <td class="content">
            <input
              name="checkPw"
              id="checkPw"
              class="request"
              type="password"
              size="25"
              minlength="8"
              maxlength="16"
              required
              onkeyup="okCheckPw()"
              placeholder="PW확인"
            />

            <span id="pwConfirm"></span>
          </td>
        </tr>
      </table>

      <h4>개인정보 입력</h4>
      <table>
        <!-- name -->
        <tr>
          <td class="title">
            <label for="userName"><b>이름</b></label>
          </td>
          <td class="content">
            <input
              type="text"
              class="request"
              size="25"
              minlength="2"
              maxlength="5"
              required
              onkeyup="okName()"
              name="userName"
              id="userName"
            />
            <span id="warnName"></span>
          </td>
        </tr>
        <!-- nickname -->
        <tr>
          <td class="title">
            <label for="userNick"><b>닉네임</b></label>
          </td>
          <td class="content">
            <span id="warnNick">영문자, 숫자만 입력가능, 6~12자 입력</span
            ><br />
            <input
              type="text"
              class="request"
              size="25"
              minlength="6"
              maxlength="12"
              required
              onkeyup="okNick()"
              name="userNick"
              id="userNick"
            />
          </td>
        </tr>
        <!-- email -->
        <tr>
          <td class="title">
            <label for="userEmail"><b>E-mail</b></label>
          </td>
          <td class="content">
            <input
              type="text"
              class="request"
              size="50"
              minlength="10"
              maxlength="50"
              onkeyup="okEmail()"
              name="userEmail"
              id="userEmail"
            />
            <span id="warnEmail"></span>
          </td>
        </tr>
      </table>
      <div class="last">
        <button type="submit" class="createAccount" onclick="checkAll(event)">
          <b>회원가입</b>
        </button>
        <button type="reset" class="cancel" onclick="refresh()">
          <b>취소</b>
        </button>
      </div>
    </form>
  </body>
</html>
